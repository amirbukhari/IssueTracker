"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const concat_1 = require("./concat");
const hasKey_1 = require("../objects/hasKey");
const reduce_1 = require("./reduce");
/**
 * Group array items by a specific key which should exist on all elements of the array.
 *
 * @param array An ideally flat array of objects
 * @param key The name of the key which should be used as the key for each item group.
 */
exports.group = (array, key) => {
    const grouped = reduce_1.reduce(array, (prev, curr) => (hasKey_1.hasKey(prev, `${curr[key]}`)
        ? Object.assign(Object.assign({}, prev), { [`${curr[key]}`]: concat_1.concat(prev[`${curr[key]}`], [curr]) }) : Object.assign(Object.assign({}, prev), { [`${curr[key]}`]: [curr] })), {});
    return grouped;
};
//# sourceMappingURL=group.js.map