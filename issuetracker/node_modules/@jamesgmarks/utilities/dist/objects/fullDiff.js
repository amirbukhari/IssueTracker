"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const keys_1 = require("./keys");
const diff_1 = require("./diff");
/**
 * Provides a list of change descriptions where the "from" object is `a` and the "to" object is `b`.
 * '-' indicates a field was removed, '+' indicates a field was added
 * @param a
 * @param b
 */
exports.fullDiff = (a, b) => {
    const dif = {};
    const aKeys = keys_1.keys(a);
    const bKeys = keys_1.keys(b);
    aKeys.forEach((key) => {
        if (!bKeys.includes(key)) {
            dif[key] = { '-': a[key] };
        }
        else if (typeof a[key] === 'object') {
            const comparison = diff_1.diff(a[key], b[key]);
            if (keys_1.keys(comparison).length > 0) {
                dif[key] = exports.fullDiff(a[key], b[key]);
            }
        }
        else if (typeof a[key] !== typeof b[key] || a[key] !== b[key]) {
            dif[key] = { '-': a[key], '+': b[key] };
        }
    });
    bKeys.forEach((key) => {
        if (!aKeys.includes(key)) {
            dif[key] = { '+': b[key] };
        }
    });
    return dif;
};
//# sourceMappingURL=fullDiff.js.map